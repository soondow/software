<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <title>Coffee Order Tracker</title>
  <!-- Socket.IO ν΄λΌμ΄μ–ΈνΈ λΌμ΄λΈλ¬λ¦¬ -->
  <script src="https://cdn.socket.io/4.5.0/socket.io.min.js"></script>
</head>
<body>
  <h1>μ»¤ν”Ό μ£Όλ¬Έ μƒνƒ μ‹¤μ‹κ°„ ν™•μΈ</h1>
  <div>
    <label>
      μ£Όλ¬Έ ID: <input id="orderId" placeholder="μƒμ„±λ orderId μ…λ ¥" />
    </label>
    <button id="joinBtn">κµ¬λ… μ‹μ‘</button>
  </div>
  <pre id="log" style="background:#f0f0f0; padding:10px;"></pre>

  <script>
    // μ„λ²„ μ£Όμ†(ν•„μ”μ‹ 192.168.55.163:5000 μΌλ΅ λ³€κ²½)
    const socket = io('http://127.0.0.1:5000');

    const logEl = document.getElementById('log');
    const log = msg => {
      logEl.textContent += msg + '\n';
    };

    document.getElementById('joinBtn').onclick = () => {
      const oid = document.getElementById('orderId').value.trim();
      if (!oid) return alert('orderIdλ¥Ό μ…λ ¥ν•μ„Έμ”');
      socket.emit('join', { orderId: oid });
      log(`π κµ¬λ… μ‹μ‘: ${oid}`);
    };

    socket.on('order_status', data => {
      log(`π”” μƒνƒ μ—…λ°μ΄νΈ: μ£Όλ¬Έ ${data.orderId} β†’ ${data.status}`);
    });
  </script>
</body>
</html>
